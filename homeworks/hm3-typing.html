<meta charset="utf-8">
<script type="text/javascript">
	/*
		a. Уровень 2: Пользователь видит сообщение: «Поставьте мизинец левой руки на букву Ф, безымянный палец — на Ы, средний — на В, указательный — на А. Мизинец правой руки на букву Ж, безымянный палец — на Д, средний — на Л, указательный — на О. Запомните расположение пальцев. Повторяйте за мной». Пользователь получает последовательность из букв Ы и В длиной в 10 символов, и должен её воспроизвести. Если ему это не удалось, попытка повторяется. В случае успеха переходим к следующему уровню.

		b. Уровень 3: Пользователь видит сообщение: «Поставьте мизинец левой руки на букву Ф, безымянный палец — на Ы, средний — на В, указательный — на А. Мизинец правой руки на букву Ж, безымянный палец — на Д, средний -— на Л, указательный — на О. Запомните расположение пальцев». Пользователь получает последовательность из букв О и Ж длиной в 10 символов, и должен её воспроизвести. Если ему это не удалось — попытка повторяется. В случае успеха переходим к следующему уровню.
	 */

	function generateText(letters, lenght){

		var text = "";
		for (var i = 0; i < lenght; i++) {
			var n = getRandomNumber(letters.length - 1);
			text += letters[n];
		}

		return text;
	}

	function getRandomNumber(max){
		return Math.round(Math.random() * max);
	}

	function runLevel(levelNumber, info, chars, length){

	 	while (true) {
		 	alert("Уровень " + levelNumber + ".\nДля выхода из обучения введите «exit»\n\n" + info);

		 	var text = generateText(chars, length);
		 	var userText = prompt(text);

		 	if (userText == "exit") {
		 		return "exit";
		 	} else if (userText == text) {
		 		alert("Всё верно!");
		 		break;
		 	} else {
		 		alert("Вы ошиблись. Попробуйте ещё раз.");
		 	}
	 	}
	 	return "";
	}

	var instruction = "Поставьте мизинец левой руки на букву Ф, безымянный палец — на Ы, средний — на В, указательный — на А. Мизинец правой руки на букву Ж, безымянный палец — на Д, средний — на Л, указательный — на О. Запомните расположение пальцев.\nНеспеша набирайте текст, стараясь не смотреть на клавиатуру."

 	var levelsData = [
 		[
 			["ф", "а"],
 			10,
		],
 		[
 			["ы", "в"],
 			10,
		],
 		[
 			["о", "ж"],
 			10,
		],
	];


 	alert("Вас приветствует программа по обучению слепой печати");


 	for (var i = 0; i < levelsData.length; i++) {
 		result = runLevel(i + 1, instruction, levelsData[i][0], levelsData[i][1]);
 		if (result == 'exit') {
 			break;
 		}
 	}

 	alert("Обучение окончено");

</script>